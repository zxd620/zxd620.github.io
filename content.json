{"meta":{"title":"赵晓东的网络日志","subtitle":"一个立志AI的嵌入式+硬件+后端+信号处理工程师","description":null,"author":"赵晓东","url":"http://yoursite.com","root":"/"},"pages":[],"posts":[{"title":"阿里云Centos7.5安装MongoDB","slug":"阿里云Centos7.5安装MongoDB","date":"2019-08-20T07:58:40.756Z","updated":"2019-08-20T08:03:58.602Z","comments":true,"path":"2019/08/20/阿里云Centos7.5安装MongoDB/","link":"","permalink":"http://yoursite.com/2019/08/20/阿里云Centos7.5安装MongoDB/","excerpt":"","text":"运行环境：阿里云Centos7.5参考：官方手册安装选择使用.rpm包安装的方式 配置仓库并通过yum安装最新稳定版本， 配置/etc/yum.conf，指定不自动更新mongodb相关程序。运行前准备推荐使用默认路径，默认路径为： /var/lib/mongo（data路径） /var/log/mongodb（log路径） 若使用自定义路径，则： 首先创建相关路径， 在配置文件/etc/mongod.conf中进行如下修改： storage.dbPath指定为新的data路径(e.g. /some/data/directory) systemLog.path指定为新的log文件路径（不同于data，不是文件夹路径,e.g. /some/log/directory/mongod.log） 确保运行MongoDB的用户，拥有所设置路径的访问权限 1chown -R mongod:mongod &lt;directory&gt; 如果更改了用户，则必须给改用户赋予访问路径的权限 必须配置SELinux 运行 开启MongoDB服务 1sudo service mongod start 验证开启成功查看log文件内容，是否新增了如下行： 1[initandlisten] waiting for connections on port &lt;port&gt; 其中是/etc/mongod.conf中配置的，默认为27017 （可选）设置MongoDB开机自启动 1sudo chkconfig mongod on 停止MongoDB 1sudo service mongod stop 重启MongoDB 1sudo service mongod restart 运行结果： 12[root@VM_0_16_centos PFD]# sudo chkconfig mongod onNote: Forwarding request to &apos;systemctl enable mongod.service&apos;. 这并不表示运行错误，只是额外提醒，需要确认服务开启了。 使用MongoDB本地使用mongo shell，则直接运行： 1mongo 在不同主机或者不同port运行，则参考The mongo Shell","categories":[],"tags":[]},{"title":"socket与port的关系","slug":"socket与port的关系","date":"2019-08-20T05:50:48.785Z","updated":"2019-08-20T05:56:11.479Z","comments":true,"path":"2019/08/20/socket与port的关系/","link":"","permalink":"http://yoursite.com/2019/08/20/socket与port的关系/","excerpt":"","text":"关于客户端socket与port的关系 确定进程pid 1ps -ef |grep &apos;node ./app&apos;|grep -v grep 结果： 1root 7915 1 1 21:53 pts/0 00:00:00 node ./appDevice.js 1 查询对应pid占用的port 1netstat -nap | grep 7915 结果： 12345tcp 0 0 172.16.0.16:44856 119.23.79.169:80 ESTABLISHED 7915/node tcp 0 0 172.16.0.16:44822 119.23.79.169:80 ESTABLISHED 7915/node tcp 0 0 172.16.0.16:44818 119.23.79.169:80 ESTABLISHED 7915/node tcp 0 0 172.16.0.16:44836 119.23.79.169:80 ESTABLISHED 7915/node tcp 0 0 172.16.0.16:44846 119.23.79.169:80 ESTABLISHED 7915/node 可以看到，在进程创建5个socket的时候，进程占用了5个port，对于客户端，一个socket对应了一个port。","categories":[],"tags":[]},{"title":"Secucrt，vim插件以及系统语言LANG 对printf的影响","slug":"Secucrt，vim插件以及系统语言LANG-对printf的影响","date":"2019-08-15T02:07:43.000Z","updated":"2019-08-20T05:49:20.091Z","comments":true,"path":"2019/08/15/Secucrt，vim插件以及系统语言LANG-对printf的影响/","link":"","permalink":"http://yoursite.com/2019/08/15/Secucrt，vim插件以及系统语言LANG-对printf的影响/","excerpt":"","text":"问题：安装vim插件vim设置： encoding=utf-8，内部机制，不要改变，在任何时候都不要试图修改encoding设置 termencoding=utf-8，vim输出到终端显示用，只涉及到显示，不涉及文件内容的改变 fileencodings=utf-8,ucs-bom,gbk,cp936,gb2312,gb18030，依次识别文件用 两个现象： 若服务器端系统LANG、secucrt按照GBK来设置，那么vim打开GB2313编码的文档无法正常显示，但gcc编译运行时，printf打印中文正常显示在终端secucrt； 解决方法：更改vim插件设置，~/.vimrc中termencoding=GBK 此时，gcc编译选择文件编码类型为GB2312或GBK的话，程序printf中文输出会乱码，应不指定（默认为utf-8），或者指定为utf-8则输出正确。这个现象，暂时无法解释。 若服务器端系统LANG、secucrt按照utf8来设置，那么vim打开GB2312编码的文档时可以正常显示中文（跟vim插件也有关，termencoding=utf-8），但是gcc后的程序，printf的中文结果乱码解决方案：gcc 编译时，加上对文档字符集的指定 -finput-charset=GB2312才能正常printf中文 解决方法：将main.c使用vscode转换为utf8，无论是否带bom，则不再需要指定-finput-charset就可正常printf中文；无论如何，掌握原则如下： 服务端系统语言设置为UTF-8，secucrt设置为utf-8，参考《远程SSH连接Linux中文乱码》的方案二； 代码以UTF-8格式创建和编写以及保存和gcc编译运行； 若代码文档格式为GBK或者GB2312等，则编译运行时应制定gcc的选项-finput-charset； 参考：vim插件[gcc编译选项http://blog.chinaunix.net/uid-28458801-id-4515769.htmlvim encoding fileencoding termencoding 疑问1：-finput-charset 指定源文件的编码（若不指定，默认是UTF-8）-fexec-charset 指定多字节字符串(const char)常量在编译后的程序里保存的编码集（若不指定，默认是UTF-8）-fwide-exec-charset 指定宽字节字符串(const wchar_t)常量在编译后的程序里的保存的编码集 这几个编译选项的区别含义不是很明白； 疑问2：","categories":[],"tags":[]},{"title":"Hello World","slug":"hello-world","date":"2019-08-14T12:32:56.377Z","updated":"2019-08-14T12:32:56.378Z","comments":true,"path":"2019/08/14/hello-world/","link":"","permalink":"http://yoursite.com/2019/08/14/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]}]}